# Proxmox: Disabling Intel I219â€‘LM NIC Offloads (Persistent)

Automated guide for disabling problematic NIC offload features on a Lenovo M920x running Proxmox VE 8.4.1, using Intel I219â€‘LM (e1000e) network adapter.

---

## ðŸ§  Problem & Context

The Intel I219â€‘LM NIC (e1000e driver) on Proxmox VE can cause intermittent network failures (hardware unit hang) when offloading is enabled. Disabling offload features resolves stability issues.<!-- cite forum posts etc -->

---

## âœ… Current Setup

You have two systemd services configured to disable offload on boot:

- **disable-eno1-offloads.service** *(inactive)*  
- **disableâ€‘nicâ€‘offloadâ€‘eno1.service** *(active)*

Only the latter runs successfully at boot and applies the ethtool offload disable commands.

---

## ðŸ”§ Service File Content

Example of the active service (`/etc/systemd/system/disableâ€‘nicâ€‘offloadâ€‘eno1.service`):

```ini
[Unit]
Description=Disable NIC offloading for Intel e1000e interface eno1
Before=network-pre.target
Wants=network-pre.target

[Service]
Type=oneshot
ExecStart=/sbin/ethtool -K eno1 gso off gro off tso off rx off tx off sg off txvlan off rxvlan off

[Install]
WantedBy=multiâ€‘user.target
